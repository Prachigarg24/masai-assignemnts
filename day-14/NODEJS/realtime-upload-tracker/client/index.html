<!DOCTYPE html>
<html>
<head>
  <title>Upload Tracker</title>
</head>
<body>
<input type="file" id="file" />
<button onclick="upload()">Upload</button>

<p id="status"></p>

<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script>
  const socket = io("http://localhost:3000");

  socket.on("upload-progress", data => {
    document.getElementById("status").innerText =
      `Uploading: ${data.percent}%`;
  });

  function upload() {
    const file = document.getElementById("file").files[0];
    const formData = new FormData();
    formData.append("file", file);

    fetch("http://localhost:3000/upload", {
      method: "POST",
      body: formData
    });
  }
</script>
</body>
</html>
